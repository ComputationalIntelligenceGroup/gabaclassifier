---
title: "GABAergic interneurons classifier"
author: "Bojan Mihaljevic"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Overview 

`gabaclassifier` classifies a given neuronal morphology into one of **eight** types, such as Chandelier or Martinotti. The following classifies cell C030502A as a nest basket cell.

```{r, message=FALSE}
library(gabaclassifier) 
file <- system.file('extdata', 'C030502A.swc', package = 'gabaclassifier')
classify_interneuron(file = file, layer  = '23')
```

The mapping from the abbreviated output to the full type name is 
```{r} 
# full_class_name('NBC')
```
names. have it somewhere for sure.
  
# Usage
Cells are classified with the `classify_interneuron` function. The inputs are

- A path to a SWC reconstruction of a neuron morphology
- The layer containing that cell  

The model has only been trained with layer L2/3 to layer L6 interneurons and thus interneurons from those layers are allowed as input to `classify_interneuron`.  
```{r}
# show error Try with l1. 
```
 
The output is one of the following type labels:
```{r}
# do this code inlune 
```
Chandelier, Martinotti, ...  It is simple to use.  **With function and abbrevs**   

# Details  
gabaclassifier will classify any neuronal recontruction that passes basic reconstruction quality checks
 That is, considered the most likely out of those.  The layer information corresponds to male rat ... somatosensory cortex.  It is important that the morphology is of sufficient quality, as `gabaclassifier` performs only basic checks. Not all morphologies are valid and basic checks are performed.  If it is not indeed an interneuron, and so on. Checks:  has axon and dendrites, attached to soma, length > 3000 and so on. Both at training and clasification.

```{r}

```
It will provide a classification for any output that passes that. So, if you pass a pyramidal neuron, it will slitt output a classification. Also, since it was trained with specific rat cells (see below), it might not be very correct with others. 
  
# Model 
  
The model is  forest (**citation**) trained on **650** interneurons. The cells were L23 to L6...interneurons from the Markam laboratory.   The ids of the cells are provided in ...  The accuracy is 72%. **Show the confusion matrix.** 

